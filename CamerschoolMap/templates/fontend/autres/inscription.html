{% extends 'fontend/base_connexion.html' %}
{% load static %}

{% block content %}



<section class="body_connexion">
    <video autoplay muted loop class="video-background">
        <source src="{% static 'fontend/images/video.mp4' %}" type="video/mp4">
        Votre navigateur ne supporte pas la vidéo.
    </video>
    <div class="wrapper_inscrption">
        <div class="form_wrapper sign_up">
            <form action="{% url 'inscription' %}" method="POST">
                {% csrf_token %}
                <h2>Inscription</h2>
                <div class="input_group">
                    <input type="text" required name="nom">
                    <label for="">Nom</label>
                    <i class="fas fa-user users"></i>
                </div>
                <div class="input_group">
                    <input type="email" required name="email">
                    <label for="">Email</label>
                    <i class="fas fa-envelope users"></i>
                </div>
                <div class="input_group">
                    <input type="password" required name="password" id="password">
                    <label for="">Mots de passe</label>
                    <i class="fas fa-eye users toggle-password" style="cursor: pointer;"></i>
                </div>
                <div class="input_group">
                    <input type="text" required name="phone">
                    <label for="">Numero de telephone</label>
                    <i class="fas fa-phone users"></i>
                </div>
                <div class="remenber">
                    <label><input type="checkbox" required> Accepter toute les condiction de confidentiallite</label>
                </div>
                <button type="submit" class="button_connexion"><i class="fas f"></i>S'incrire</button>
                <div class="sign_link">
                    <p>Vous avez un compte? cliquez pour vous <a href="{% url 'connexion' %}">Connecter</a></p>
                </div>
            </form>
        </div>
    </div>
</section>



<!-- Gestion des erreurs et des messages -->
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

<script>
    $(document).ready(function() {
        $('.toggle-password').on('click', function() {
            let passwordField = $('#password');
            let type = passwordField.attr('type') === 'password' ? 'text' : 'password';
            passwordField.attr('type', type);
            $(this).toggleClass('fa-eye fa-eye-slash');
        });
    });
</script>

{% if messages %}
<script>
         {% if errors %}
         Swal.fire({
             icon: 'error',
             title: 'Erreur',
             html: `<ul>{% for error in errors %}<li>{{ error }}</li>{% endfor %}</ul>`,
         });
         {% endif %}

         {% if messages %}
         Swal.fire({
             icon: 'success',
             title: 'Succès',
             text: `{% for message in messages %}{{ message }}{% endfor %}`,
         });
         {% endif %}
</script>
{% endif %}

{% endblock %}